import { promises } from 'fs'
import { join } from 'path'
import axios from 'axios'

let handler = async (m, { conn, usedPrefix }) => {

const formattedInfo = `
üìÇ Repository Name: ${repoData.name}
üìù Description: ${repoData.description}
üë§ Owner: ${repoData.owner.login}
‚≠ê Stars: ${repoData.stargazers_count}
üç¥ Forks: ${repoData.forks_count}
üåê URL: ${repoData.html_url}
      `.trim()

      // Send the formatted information as a message
      await conn.relayMessage(
        m.chat,
        {
          requestPaymentMessage: {
            currencyCodeIso4217: 'INR',
            amount1000: 69000,
            requestFrom: m.sender,
            noteMessage: {
              extendedTextMessage: {
                text: formattedInfo,
                contextInfo: {
                  externalAdReply: {
                    showAdAttribution: true,
                  },
                },
              },
            },
          },
        },
        {}
      )
    } else {
      // Handle the case where the API request fails
      await conn.reply(m.chat, 'Repository ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö‡∑í ‡∑Ä‡∑í‡∂∫.', m)
    }
  } catch (error) {
    console.error(error)
    await conn.reply(m.chat, 'Repository ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∑ö‡∂Ø‡∑ì ‡∂Ø‡∑ù‡∑Ç‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∑Ä‡∑í‡∂∫.', m)
  }
}

handler.help = ['menu2']
handler.tags = ['main']
handler.command = ['menu2', 'h', 'help2']

export default handler
